import{_ as O,r as h,o as S,c as m,b as t,w as o,d as l,e as _,a as f,f as g,F as R,h as J,E as p,g as P,i as L}from"./_plugin-vue_export-helper-BlvpT2go.js";const B={class:"options-container"},F={class:"header-controls"},M={class:"rule-controls"},$={__name:"Options",setup(I){const u=h(!1),a=h([]),C=()=>{a.value.push({urlPattern:"",response:"{}"}),r()},b=e=>{a.value.splice(e,1),r()},k=e=>{try{JSON.parse(e.response),p({message:"JSON格式正确",type:"success"})}catch{p({message:"JSON格式错误",type:"error"})}},r=async()=>{try{a.value.forEach(e=>{e.response&&JSON.parse(e.response)}),await chrome.storage.local.set({settings:{isEnabled:u.value,rules:a.value.map(e=>({urlPattern:e.urlPattern,response:e.response}))}}),console.log("Settings saved successfully"),p({message:"保存成功",type:"success"})}catch(e){console.error("Error saving settings:",e),p({message:"保存失败："+e.message,type:"error"})}};return S(async()=>{const e=await chrome.storage.local.get(["settings"]);e.settings&&(u.value=e.settings.isEnabled,a.value=e.settings.rules||[])}),(e,s)=>{const w=l("el-switch"),E=l("el-header"),i=l("el-button"),d=l("el-form-item"),v=l("el-input"),N=l("el-form"),U=l("el-main"),x=l("el-container");return _(),m("div",B,[t(x,null,{default:o(()=>[t(E,null,{default:o(()=>[s[1]||(s[1]=f("h2",null,"URL拦截器设置",-1)),f("div",F,[t(w,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=n=>u.value=n),onChange:r,"active-text":"开启拦截","inactive-text":"关闭拦截"},null,8,["modelValue"])])]),_:1}),t(U,null,{default:o(()=>[t(N,{"label-width":"100px",class:"form"},{default:o(()=>[t(d,null,{default:o(()=>[t(i,{type:"primary",onClick:C},{default:o(()=>s[2]||(s[2]=[g("添加规则")])),_:1})]),_:1}),(_(!0),m(R,null,J(a.value,(n,y)=>(_(),m("div",{key:y,class:"rule-item"},[t(d,{label:"URL包含"},{default:o(()=>[t(v,{modelValue:n.urlPattern,"onUpdate:modelValue":c=>n.urlPattern=c,placeholder:"输入URL匹配模式",onChange:r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(d,{label:"响应内容"},{default:o(()=>[t(v,{type:"textarea",modelValue:n.response,"onUpdate:modelValue":c=>n.response=c,placeholder:"输入响应内容(JSON格式)",rows:4,onChange:r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),f("div",M,[t(i,{type:"danger",onClick:c=>b(y)},{default:o(()=>s[3]||(s[3]=[g("删除规则")])),_:2},1032,["onClick"]),t(i,{type:"primary",onClick:c=>k(n)},{default:o(()=>s[4]||(s[4]=[g("测试规则")])),_:2},1032,["onClick"])])]))),128))]),_:1})]),_:1})]),_:1})])}}},A=O($,[["__scopeId","data-v-885a8702"]]),V=P(A);V.use(L);V.mount("#app");
